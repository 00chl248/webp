<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>여기과기대 | 과기대 장소추천</title>
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  <script>
  Kakao.init('7b0b8007e60a8f79ca197b522ecc0040'); 
  </script>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background-color: #f5f5f5;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .navbar {
      width: 100%;
      background-color: #ffffff;
      border-bottom: 1px solid #e0e0e0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      position: relative;
      z-index: 100;
    }

    .navbar-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.5rem;
    }

    .logo img {
      height: 36px;
      object-fit: contain;
    }

    .category-icon {
      font-size: 1.4rem;
      cursor: pointer;
    }

    /* ===== 슬라이드 메뉴 ===== */
    .sidebar {
      position: fixed;
      top: 0;
      right: -300px;
      width: 260px;
      height: 100%;
      background-color: white;
      box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);
      transition: right 0.3s ease;
      z-index: 1000;
      padding: 2rem 1.5rem;
    }

    .sidebar.active {
      right: 0;
    }

    .sidebar-close {
      position: absolute;
      top: 1rem;
      right: 1.2rem;
      font-size: 1.2rem;
      cursor: pointer;
    }

    .login-button {
      display: block;
      width: 100%;
      padding: 0.8rem;
      background-color: #007aff; /* Apple Blue 또는 강조 파란색 */
      color: white;
      font-weight: bold;
      text-align: center;
      border: none;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      margin-top: 2rem;
      cursor: pointer;
      font-size: 1rem;
    }

    .login-button:hover {
      background-color: #0060cc;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .sidebar li {
      padding: 1rem 0;
      border-bottom: 1px solid #eee;
      font-size: 1.05rem;
      cursor: pointer;
    }

    .sidebar li:hover {
      color: #ff0033;
      font-weight: bold;
    }

    .main-content {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem 1rem;
    }

    .search-container {
      width: 100%;
      max-width: 600px;
      background: #fff;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .search-title {
      font-size: 1.6rem;
      margin-bottom: 2rem;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    select {
      padding: 0.8rem;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      width: 100%;
    }

    .search-button {
      padding: 0.9rem 1.5rem;
      font-size: 1.1rem;
      border: none;
      border-radius: 8px;
      background-color: #4a4a4a;
      color: white;
      cursor: pointer;
    }

    .search-button:hover {
      background-color: #333;
    }

    @media (max-width: 768px) {
      .navbar-inner {
        padding: 1rem;
      }

      .search-container {
        padding: 1.5rem;
      }

      .sidebar {
        width: 80%;
      }
    }
  </style>
</head>
<body>

  <!-- ===== 상단바 ===== -->
  <div class="navbar">
    <div class="navbar-inner">
      <div class="logo">
        <img src="im01.png" alt="로고" />
      </div>
      <div class="category-icon" onclick="toggleSidebar()">☰</div>
    </div>
  </div>

  <!-- ===== 사이드 메뉴 ===== -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-close" onclick="toggleSidebar()">✕</div>

    <!-- ✅ 회원가입 / 로그인 버튼 -->
    <button class="login-button" id="loginBtn" >회원가입 / 로그인</button>

    <!-- 메뉴 리스트 -->
    <ul>
      <li>마이 플레이스</li>
      <li>건의사항</li>
      <li>전체 지도</li>
      <li id="withdrawBtn" style="display: none; color: gray;">회원탈퇴</li>
    </ul>
  </div>

  <!-- ===== 메인 콘텐츠 ===== -->
  <div class="main-content">
    <div class="search-container">
      <div class="search-title">어디로 갈까?</div>

      <div class="filter-group">

        <select name="time">
          <option value="">이용 시각을 선택해주세요!</option>
          <option value="morning">오전에</option>
          <option value="lunch">점심에</option>
          <option value="afternoon">오후에</option>
          <option value="evening">저녁에</option>
        </select>

        <select name="purpose">
          <option value="">용도를 선택해주세요!</option>
          <option value="study">공부하려는데</option>
          <option value="date">데이트하려는데</option>
          <option value="meal">식사하려는데</option>
          <option value="rest">쉬고 싶은데</option>
        </select>

        <select name="mood">
          <option value="">원하시는 분위기를 선택해주세요!</option>
          <option value="quiet">조용한 곳!</option>
          <option value="noisy">떠들썩한 곳!</option>
          <option value="nomattermood">조용하기도 하고 떠들썩하기도 한 곳!</option>
        </select>
      </div>

      <button class="search-button">출발!</button>
    </div>
  </div>

  <!-- ===== 스크립트 ===== -->
  <script>
  // 사이드바 토글
  function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    sidebar.classList.toggle('active');
  }

  window.addEventListener('click', function (e) {
    const sidebar = document.getElementById('sidebar');
    const icon = document.querySelector('.category-icon');
    if (
      sidebar.classList.contains('active') &&
      !sidebar.contains(e.target) &&
      !icon.contains(e.target)
    ) {
      sidebar.classList.remove('active');
    }
  });

  // 카카오 로그인 함수
  function loginWithKakao() {
    Kakao.Auth.login({
      success: function (authObj) {
        Kakao.API.request({
          url: '/v2/user/me',
          success: function (res) {
            console.log('로그인 성공', res);

            const loginBtn = document.getElementById('loginBtn');
            const withdrawBtn = document.getElementById('withdrawBtn');

            loginBtn.textContent = '로그아웃';
            loginBtn.onclick = logoutFromKakao;
            withdrawBtn.style.display = 'block';
          },
          fail: function (error) {
            alert('사용자 정보 요청 실패: ' + JSON.stringify(error));
          }
        });
      },
      fail: function (err) {
        alert('로그인 실패: ' + JSON.stringify(err));
      }
    });
  }

  // 로그아웃
  function logoutFromKakao() {
    Kakao.Auth.logout(function () {
      console.log('로그아웃 완료');

      const loginBtn = document.getElementById('loginBtn');
      const withdrawBtn = document.getElementById('withdrawBtn');

      loginBtn.textContent = '회원가입 / 로그인';
      loginBtn.onclick = loginWithKakao;
      withdrawBtn.style.display = 'none';
    });
  }

  // 페이지 로드 후 실행
  document.addEventListener('DOMContentLoaded', function () {
    const loginBtn = document.getElementById('loginBtn');
    const withdrawBtn = document.getElementById('withdrawBtn');

    // 초기 로그인 상태 설정 (항상 로그인 상태를 확인하려면 Kakao.Auth.getStatus() 필요함)
    loginBtn.onclick = loginWithKakao;

    withdrawBtn.addEventListener('click', function () {
      alert('회원탈퇴는 고객센터를 통해 처리됩니다.');
    });
  });
</script>


</body>
</html>
